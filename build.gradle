plugins {
    id 'java'
}

group 'io.theflysong.github'
version project_version

jar {
    baseName = 'EG-Engine'
    version = project_version
}

task cpLib(type: Copy) {
    from './libs/lwjgl'
    into('./build/libs')
}

task zip(type: Zip, dependsOn: [cpLib]) {
    from './build/libs/'
    destinationDir file('./build/output')
    baseName 'EG-Engine'
    version project_version
    classifier 'snapshot'
}

task release(type: Copy, dependsOn: [jar, zip])

tasks.withType(Jar) {
    destinationDir = file("./build/libs/jar")
}

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    compile fileTree(dir: './libs/lwjgl/jar', include: ['*.jar'])
    runtime fileTree(dir: './libs/lwjgl/jar', include: ['*.jar'])
}